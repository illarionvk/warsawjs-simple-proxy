---
---

## Step 4

{% highlight javascript linenos %}
getInstagram = function(next) {
  var clientID, instagramURL;

  clientID = process.env.INSTAGRAM_CLIENT_ID || '';
  instagramURL = [
    'https://api.instagram.com/v1/users/234016235/media/recent',
    "?client_id=" + clientID,
    '&count=12'
  ].join('');

  Wreck.get(instagramURL, null, function(err, res, payload) {
    console.log('Getting Instagram data...');
    if (err) {
      return next(err);
    }
    if (res.statusCode !== 200) {
      return next(res.statusCode);
    }
    return next(null, JSON.parse(payload));
  });
};
{% endhighlight %}

